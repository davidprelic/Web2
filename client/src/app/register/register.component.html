<div id="register" fxLayoutAlign="center center">
    <form [formGroup]="registerForm" (ngSubmit)="registerForm.valid && register()" autocomplete="off" fxFlex="40" fxFlex.lt-lg="70" fxLayout="row wrap" fxLayout.xs="row wrap" fxLayoutAlign="space-evenly center">
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>Username</mat-label>
            <input matInput formControlName="username">
            <mat-error>{{getErrorMessage('username')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>Enter your email</mat-label>
            <input matInput placeholder="pat@example.com" formControlName="email" required>
            <mat-error>{{getErrorMessage('email')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
              <mat-label>Enter your password</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName='password' >
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error>{{getErrorMessage('password')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
              <mat-label>Confirm your password</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName='confirmPassword' >
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error>{{getErrorMessage('confirmPassword')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>First name</mat-label>
            <input matInput formControlName='firstName'>
            <mat-error>{{getErrorMessage('firstName')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>Last name</mat-label>
            <input matInput formControlName='lastName'>
            <mat-error>{{getErrorMessage('lastName')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>Birth date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName='dateOfBirth'>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error>{{getErrorMessage('dateOfBirth')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>Address</mat-label>
            <input matInput formControlName='address'>
            <mat-error>{{getErrorMessage('address')}}</mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" appearance="fill">
            <mat-label>Select</mat-label>
            <mat-select formControlName="userRole">
              <mat-option value="CrewMember">Crew member</mat-option>
              <mat-option value="Dispatcher">Dispatcher</mat-option>
              <mat-option value="EdWorker">ED worker</mat-option>
            </mat-select>
            <mat-error>{{getErrorMessage('userRole')}}</mat-error>
        </mat-form-field>
        <button fxFlex="45" mat-raised-button color="warn" (click)="cancel()">Cancel</button>
        <button [disabled]='!registerForm.valid' fxFlex="45" mat-flat-button color="accent" type="submit">Register</button>
    </form>
</div>